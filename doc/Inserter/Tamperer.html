<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: Inserter::Tamperer
  
    &mdash; Documentation by YARD 0.9.37
  
</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "Inserter::Tamperer";
  relpath = '../';
</script>


  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../_index.html">Index (T)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../Inserter.html" title="Inserter (module)">Inserter</a></span></span>
     &raquo; 
    <span class="title">Tamperer</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Class: Inserter::Tamperer
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName">Object</span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">Inserter::Tamperer</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/inserter/tamper.rb</dd>
  </dl>
  
</div>





  <h2>Instance Attribute Summary <small><a href="#" class="summary_toggle">collapse</a></small></h2>
  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#forbidden_locs-instance_method" title="#forbidden_locs (instance method)">#<strong>forbidden_locs</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute forbidden_locs.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#forbidden_triggers-instance_method" title="#forbidden_triggers (instance method)">#<strong>forbidden_triggers</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute forbidden_triggers.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#insertPoint-instance_method" title="#insertPoint (instance method)">#<strong>insertPoint</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute insertPoint.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#stages-instance_method" title="#stages (instance method)">#<strong>stages</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute stages.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#trig-instance_method" title="#trig (instance method)">#<strong>trig</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute trig.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#trigger_pool-instance_method" title="#trigger_pool (instance method)">#<strong>trigger_pool</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute trigger_pool.</p>
</div></span>
  
</li>

    
  </ul>




  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#a_to_h-instance_method" title="#a_to_h (instance method)">#<strong>a_to_h</strong>(a)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#combination_length-instance_method" title="#combination_length (instance method)">#<strong>combination_length</strong>(nb_elem, nb_values)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#gen_limited_sig_pool-instance_method" title="#gen_limited_sig_pool (instance method)">#<strong>gen_limited_sig_pool</strong>(n, max_stage, max_delay, max_combination)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#gen_limited_trigger_pool-instance_method" title="#gen_limited_trigger_pool (instance method)">#<strong>gen_limited_trigger_pool</strong>(n, max_stage, max_delay, max_combination)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#gen_sig_pool-instance_method" title="#gen_sig_pool (instance method)">#<strong>gen_sig_pool</strong>(max_stage, max_delay)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get_ht_delay-instance_method" title="#get_ht_delay (instance method)">#<strong>get_ht_delay</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get_ht_size-instance_method" title="#get_ht_size (instance method)">#<strong>get_ht_size</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get_ht_stage-instance_method" title="#get_ht_stage (instance method)">#<strong>get_ht_stage</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get_min_stage-instance_method" title="#get_min_stage (instance method)">#<strong>get_min_stage</strong>(min_stage, nb_trigger_sig, nb_available_sig = 0)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get_payload_cumulated_delay-instance_method" title="#get_payload_cumulated_delay (instance method)">#<strong>get_payload_cumulated_delay</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get_payload_delay-instance_method" title="#get_payload_delay (instance method)">#<strong>get_payload_delay</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get_possible_values_for_limited_combination-instance_method" title="#get_possible_values_for_limited_combination (instance method)">#<strong>get_possible_values_for_limited_combination</strong>(nb_elem, max_combination)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get_transi_poba-instance_method" title="#get_transi_poba (instance method)">#<strong>get_transi_poba</strong>(trig_list)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get_transi_proba_sig-instance_method" title="#get_transi_proba_sig (instance method)">#<strong>get_transi_proba_sig</strong>(sig)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get_trigger_conditions-instance_method" title="#get_trigger_conditions (instance method)">#<strong>get_trigger_conditions</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><ul><li>
<p>: A method to get the trigger condition (boolean expression).</p>
</li></ul>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#ht_is_inserted%3F-instance_method" title="#ht_is_inserted? (instance method)">#<strong>ht_is_inserted?</strong>  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">#<strong>initialize</strong>(netlist, stages = {}, timings_h = {}, delay_model: :int_multi, trigger_pool: [])  &#x21d2; Tamperer </a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>A new instance of Tamperer.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#insert-instance_method" title="#insert (instance method)">#<strong>insert</strong>(zone = &quot;random&quot;)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#insert2-instance_method" title="#insert2 (instance method)">#<strong>insert2</strong>(zone = &quot;random&quot;)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#insert_buffer_at-instance_method" title="#insert_buffer_at (instance method)">#<strong>insert_buffer_at</strong>(loc, delay = 1)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#inside_out-instance_method" title="#inside_out (instance method)">#<strong>inside_out</strong>(h)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#select_ht-instance_method" title="#select_ht (instance method)">#<strong>select_ht</strong>(type, nb_trigger_sig = 4)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>! : Legacy / Not working def visit_netlist sink_comp, curr_stage # * : Recursive function used to fill the @stages attribute, going through the paths from inputs to outputs.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#select_location-instance_method" title="#select_location (instance method)">#<strong>select_location</strong>(zone, nb_trigger_sig)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#select_location2-instance_method" title="#select_location2 (instance method)">#<strong>select_location2</strong>(zone, nb_trigger_sig)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#select_triggers_limited-instance_method" title="#select_triggers_limited (instance method)">#<strong>select_triggers_limited</strong>(n, max_stage, max_delay, max_combination = 1000000)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#select_triggers_sig-instance_method" title="#select_triggers_sig (instance method)">#<strong>select_triggers_sig</strong>(n, max_stage, max_delay)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#select_triggers_sig2-instance_method" title="#select_triggers_sig2 (instance method)">#<strong>select_triggers_sig2</strong>(n, max_stage, max_delay)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#simple_insert-instance_method" title="#simple_insert (instance method)">#<strong>simple_insert</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#trigger_pool_2_name-instance_method" title="#trigger_pool_2_name (instance method)">#<strong>trigger_pool_2_name</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#trigger_pool_2_obj-instance_method" title="#trigger_pool_2_obj (instance method)">#<strong>trigger_pool_2_obj</strong>(trigger_pool)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
    </ul>
  

<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">
  
    #<strong>initialize</strong>(netlist, stages = {}, timings_h = {}, delay_model: :int_multi, trigger_pool: [])  &#x21d2; <tt><span class='object_link'><a href="" title="Inserter::Tamperer (class)">Tamperer</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns a new instance of Tamperer.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/inserter/tamper.rb', line 99</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span> <span class='id identifier rubyid_netlist'>netlist</span><span class='comma'>,</span> <span class='id identifier rubyid_stages'>stages</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='comma'>,</span> <span class='id identifier rubyid_timings_h'>timings_h</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='comma'>,</span> <span class='label'>delay_model:</span> <span class='symbol'>:int_multi</span><span class='comma'>,</span> <span class='label'>trigger_pool:</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
    <span class='ivar'>@netlist</span> <span class='op'>=</span> <span class='id identifier rubyid_netlist'>netlist</span>
    <span class='comment'># @stages = stages
</span>    <span class='ivar'>@timings_h</span> <span class='op'>=</span> <span class='id identifier rubyid_timings_h'>timings_h</span>
    <span class='ivar'>@ht</span> <span class='op'>=</span> <span class='kw'>nil</span>
    <span class='ivar'>@location</span> <span class='op'>=</span> <span class='kw'>nil</span>
    <span class='ivar'>@delay_model</span> <span class='op'>=</span> <span class='id identifier rubyid_delay_model'>delay_model</span>

    <span class='comment'># if stages.empty? # ! : Legacy cause not used anymore, scan_netlist is not functional as this.
</span>    <span class='comment'>#     scan_netlist # * : Gives a hash dividing the netlist by stages, each being the max distance of each components from a global input 
</span>    <span class='comment'>#     @stages = inside_out @stages # * : Reverse it to use the stage number as a key
</span>    <span class='comment'># else
</span>    <span class='ivar'>@stages</span> <span class='op'>=</span> <span class='id identifier rubyid_stages'>stages</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>Array</span><span class='rparen'>)</span> <span class='op'>?</span> <span class='id identifier rubyid_a_to_h'>a_to_h</span><span class='lparen'>(</span><span class='id identifier rubyid_stages'>stages</span><span class='rparen'>)</span> <span class='op'>:</span> <span class='id identifier rubyid_stages'>stages</span>
    <span class='ivar'>@forbidden_locs</span> <span class='op'>=</span> <span class='const'>Set</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
    <span class='ivar'>@forbidden_triggers</span> <span class='op'>=</span> <span class='const'>Set</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='comment'># ! Should be useless now
</span>    <span class='ivar'>@trigger_pool</span> <span class='op'>=</span> <span class='id identifier rubyid_trigger_pool_2_obj'>trigger_pool_2_obj</span><span class='lparen'>(</span><span class='id identifier rubyid_trigger_pool'>trigger_pool</span><span class='rparen'>)</span>
    <span class='comment'># end
</span>

    <span class='ivar'>@netlist</span><span class='period'>.</span><span class='id identifier rubyid_get_exact_crit_path_length'>get_exact_crit_path_length</span><span class='lparen'>(</span><span class='ivar'>@delay_model</span><span class='rparen'>)</span>
    <span class='ivar'>@netlist</span><span class='period'>.</span><span class='id identifier rubyid_get_slack_hash'>get_slack_hash</span> <span class='comment'># Necessary for later (location selection)
</span><span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>

  <div id="instance_attr_details" class="attr_details">
    <h2>Instance Attribute Details</h2>
    
      
      <span id="forbidden_locs=-instance_method"></span>
      <div class="method_details first">
  <h3 class="signature first" id="forbidden_locs-instance_method">
  
    #<strong>forbidden_locs</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute forbidden_locs.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


97
98
99</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/inserter/tamper.rb', line 97</span>

<span class='kw'>def</span> <span class='id identifier rubyid_forbidden_locs'>forbidden_locs</span>
  <span class='ivar'>@forbidden_locs</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="forbidden_triggers=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="forbidden_triggers-instance_method">
  
    #<strong>forbidden_triggers</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute forbidden_triggers.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


97
98
99</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/inserter/tamper.rb', line 97</span>

<span class='kw'>def</span> <span class='id identifier rubyid_forbidden_triggers'>forbidden_triggers</span>
  <span class='ivar'>@forbidden_triggers</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="insertPoint=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="insertPoint-instance_method">
  
    #<strong>insertPoint</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute insertPoint.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


97
98
99</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/inserter/tamper.rb', line 97</span>

<span class='kw'>def</span> <span class='id identifier rubyid_insertPoint'>insertPoint</span>
  <span class='ivar'>@insertPoint</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="stages=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="stages-instance_method">
  
    #<strong>stages</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute stages.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


97
98
99</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/inserter/tamper.rb', line 97</span>

<span class='kw'>def</span> <span class='id identifier rubyid_stages'>stages</span>
  <span class='ivar'>@stages</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="trig=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="trig-instance_method">
  
    #<strong>trig</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute trig.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


97
98
99</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/inserter/tamper.rb', line 97</span>

<span class='kw'>def</span> <span class='id identifier rubyid_trig'>trig</span>
  <span class='ivar'>@trig</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="trigger_pool=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="trigger_pool-instance_method">
  
    #<strong>trigger_pool</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute trigger_pool.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


97
98
99</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/inserter/tamper.rb', line 97</span>

<span class='kw'>def</span> <span class='id identifier rubyid_trigger_pool'>trigger_pool</span>
  <span class='ivar'>@trigger_pool</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="a_to_h-instance_method">
  
    #<strong>a_to_h</strong>(a)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


122
123
124
125
126
127
128
129
130
131</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/inserter/tamper.rb', line 122</span>

<span class='kw'>def</span> <span class='id identifier rubyid_a_to_h'>a_to_h</span> <span class='id identifier rubyid_a'>a</span>
    <span class='comment'># * : Converts an array into a hash object
</span>    <span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>

    <span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span><span class='period'>.</span><span class='id identifier rubyid_times'>times</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_layer'>layer</span><span class='op'>|</span>
        <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='id identifier rubyid_layer'>layer</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_a'>a</span><span class='lbracket'>[</span><span class='id identifier rubyid_layer'>layer</span><span class='rbracket'>]</span>
    <span class='kw'>end</span>

    <span class='kw'>return</span> <span class='id identifier rubyid_h'>h</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="combination_length-instance_method">
  
    #<strong>combination_length</strong>(nb_elem, nb_values)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


476
477
478
479
480
481
482
483
484
485</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/inserter/tamper.rb', line 476</span>

<span class='kw'>def</span> <span class='id identifier rubyid_combination_length'>combination_length</span> <span class='id identifier rubyid_nb_elem'>nb_elem</span><span class='comma'>,</span> <span class='id identifier rubyid_nb_values'>nb_values</span>
    <span class='id identifier rubyid_res'>res</span> <span class='op'>=</span> <span class='int'>1</span>

    <span class='id identifier rubyid_nb_elem'>nb_elem</span><span class='period'>.</span><span class='id identifier rubyid_times'>times</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='op'>|</span>
        <span class='id identifier rubyid_res'>res</span> <span class='op'>*</span> <span class='id identifier rubyid_nb_values'>nb_values</span>
        <span class='id identifier rubyid_nb_values'>nb_values</span> <span class='op'>-=</span> <span class='int'>1</span>
    <span class='kw'>end</span>
    
    <span class='id identifier rubyid_res'>res</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="gen_limited_sig_pool-instance_method">
  
    #<strong>gen_limited_sig_pool</strong>(n, max_stage, max_delay, max_combination)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


505
506
507
508
509
510
511
512
513</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/inserter/tamper.rb', line 505</span>

<span class='kw'>def</span> <span class='id identifier rubyid_gen_limited_sig_pool'>gen_limited_sig_pool</span> <span class='id identifier rubyid_n'>n</span><span class='comma'>,</span> <span class='id identifier rubyid_max_stage'>max_stage</span><span class='comma'>,</span> <span class='id identifier rubyid_max_delay'>max_delay</span><span class='comma'>,</span> <span class='id identifier rubyid_max_combination'>max_combination</span>
    <span class='id identifier rubyid_pool'>pool</span> <span class='op'>=</span> <span class='id identifier rubyid_gen_sig_pool'>gen_sig_pool</span><span class='lparen'>(</span><span class='id identifier rubyid_max_stage'>max_stage</span><span class='comma'>,</span> <span class='id identifier rubyid_max_delay'>max_delay</span><span class='rparen'>)</span>

    <span class='id identifier rubyid_nb_sig'>nb_sig</span> <span class='op'>=</span> <span class='id identifier rubyid_get_possible_values_for_limited_combination'>get_possible_values_for_limited_combination</span><span class='lparen'>(</span><span class='id identifier rubyid_n'>n</span><span class='comma'>,</span> <span class='id identifier rubyid_max_combination'>max_combination</span><span class='rparen'>)</span>

    <span class='id identifier rubyid_pool'>pool</span> <span class='op'>=</span> <span class='id identifier rubyid_pool'>pool</span><span class='period'>.</span><span class='id identifier rubyid_min_by'>min_by</span><span class='lparen'>(</span><span class='id identifier rubyid_nb_sig'>nb_sig</span><span class='rparen'>)</span><span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_sig'>sig</span><span class='op'>|</span> <span class='id identifier rubyid_get_transi_proba_sig'>get_transi_proba_sig</span><span class='lparen'>(</span><span class='id identifier rubyid_sig'>sig</span><span class='rparen'>)</span><span class='rbrace'>}</span>

    <span class='kw'>return</span> <span class='id identifier rubyid_pool'>pool</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="gen_limited_trigger_pool-instance_method">
  
    #<strong>gen_limited_trigger_pool</strong>(n, max_stage, max_delay, max_combination)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


515
516
517
518
519
520
521
522
523
524
525
526
527
528
529
530
531
532
533</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/inserter/tamper.rb', line 515</span>

<span class='kw'>def</span> <span class='id identifier rubyid_gen_limited_trigger_pool'>gen_limited_trigger_pool</span> <span class='id identifier rubyid_n'>n</span><span class='comma'>,</span> <span class='id identifier rubyid_max_stage'>max_stage</span><span class='comma'>,</span> <span class='id identifier rubyid_max_delay'>max_delay</span><span class='comma'>,</span> <span class='id identifier rubyid_max_combination'>max_combination</span>
    <span class='id identifier rubyid_pool'>pool</span> <span class='op'>=</span> <span class='ivar'>@trigger_pool</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_pool'>pool</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
        <span class='id identifier rubyid_pool'>pool</span> <span class='op'>=</span> <span class='id identifier rubyid_gen_limited_sig_pool'>gen_limited_sig_pool</span><span class='lparen'>(</span><span class='id identifier rubyid_n'>n</span><span class='comma'>,</span> <span class='id identifier rubyid_max_stage'>max_stage</span><span class='comma'>,</span> <span class='id identifier rubyid_max_delay'>max_delay</span><span class='comma'>,</span> <span class='id identifier rubyid_max_combination'>max_combination</span><span class='rparen'>)</span>
        
        <span class='id identifier rubyid_pool'>pool</span> <span class='op'>=</span> <span class='id identifier rubyid_pool'>pool</span><span class='period'>.</span><span class='id identifier rubyid_combination'>combination</span><span class='lparen'>(</span><span class='id identifier rubyid_n'>n</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_a'>to_a</span>
        
        <span class='id identifier rubyid_pool'>pool</span><span class='period'>.</span><span class='id identifier rubyid_sort_by!'>sort_by!</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_trig_list'>trig_list</span><span class='op'>|</span> 
            <span class='id identifier rubyid_get_transi_poba'>get_transi_poba</span><span class='lparen'>(</span><span class='id identifier rubyid_trig_list'>trig_list</span><span class='rparen'>)</span>
        <span class='kw'>end</span>
    <span class='kw'>end</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_pool'>pool</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span> <span class='op'>&lt;</span> <span class='id identifier rubyid_n'>n</span>
        <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="NoTriggerFound.html" title="Inserter::NoTriggerFound (class)">NoTriggerFound</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="NoTriggerFound.html#initialize-instance_method" title="Inserter::NoTriggerFound#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Error: Not enough signal to insert the trojan, try again. If it happens frequently try with different parameters.</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_pool'>pool</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="gen_sig_pool-instance_method">
  
    #<strong>gen_sig_pool</strong>(max_stage, max_delay)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/inserter/tamper.rb', line 459</span>

<span class='kw'>def</span> <span class='id identifier rubyid_gen_sig_pool'>gen_sig_pool</span> <span class='id identifier rubyid_max_stage'>max_stage</span><span class='comma'>,</span> <span class='id identifier rubyid_max_delay'>max_delay</span>
    <span class='id identifier rubyid_pool'>pool</span> <span class='op'>=</span> <span class='ivar'>@netlist</span><span class='period'>.</span><span class='id identifier rubyid_get_inputs'>get_inputs</span><span class='period'>.</span><span class='id identifier rubyid_clone'>clone</span>

    <span class='int'>0</span><span class='period'>.</span><span class='id identifier rubyid_upto'>upto</span><span class='lparen'>(</span><span class='id identifier rubyid_max_stage'>max_stage</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_stage'>stage</span><span class='op'>|</span>
        <span class='ivar'>@stages</span><span class='lbracket'>[</span><span class='id identifier rubyid_stage'>stage</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_comp'>comp</span><span class='op'>|</span>
            <span class='id identifier rubyid_pool'>pool</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_comp'>comp</span>
        <span class='kw'>end</span>
    <span class='kw'>end</span>

    <span class='comment'># * Filtering the comp pool with the wanted maximal cumulated_propag_time 
</span>    <span class='id identifier rubyid_pool'>pool</span><span class='period'>.</span><span class='id identifier rubyid_select!'>select!</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_comp'>comp</span><span class='op'>|</span>
        <span class='id identifier rubyid_comp'>comp</span><span class='period'>.</span><span class='id identifier rubyid_cumulated_propag_time'>cumulated_propag_time</span> <span class='op'>+</span> <span class='ivar'>@ht</span><span class='period'>.</span><span class='id identifier rubyid_propag_time'>propag_time</span><span class='lbracket'>[</span><span class='ivar'>@delay_model</span><span class='rbracket'>]</span> <span class='op'>&lt;=</span> <span class='id identifier rubyid_max_delay'>max_delay</span>
    <span class='kw'>end</span>

    <span class='kw'>return</span> <span class='id identifier rubyid_pool'>pool</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="get_ht_delay-instance_method">
  
    #<strong>get_ht_delay</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


824
825
826
827
828
829
830
831
832
833</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/inserter/tamper.rb', line 824</span>

<span class='kw'>def</span> <span class='id identifier rubyid_get_ht_delay'>get_ht_delay</span>
    <span class='kw'>if</span> <span class='ivar'>@ht</span><span class='period'>.</span><span class='id identifier rubyid_triggers'>triggers</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
        <span class='kw'>return</span> <span class='ivar'>@ht</span><span class='period'>.</span><span class='id identifier rubyid_get_payload_in'>get_payload_in</span><span class='period'>.</span><span class='id identifier rubyid_partof'>partof</span><span class='period'>.</span><span class='id identifier rubyid_propag_time'>propag_time</span><span class='lbracket'>[</span><span class='ivar'>@delay_model</span><span class='rbracket'>]</span>
    <span class='kw'>else</span>
        <span class='id identifier rubyid_payload_cumulated_delay'>payload_cumulated_delay</span> <span class='op'>=</span> <span class='ivar'>@ht</span><span class='period'>.</span><span class='id identifier rubyid_netlist'>netlist</span><span class='period'>.</span><span class='id identifier rubyid_cumulated_propag_time'>cumulated_propag_time</span> 
        <span class='id identifier rubyid_trigger_cumulated_delay'>trigger_cumulated_delay</span> <span class='op'>=</span> <span class='ivar'>@ht</span><span class='period'>.</span><span class='id identifier rubyid_triggers'>triggers</span><span class='period'>.</span><span class='id identifier rubyid_collect'>collect</span><span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_trig'>trig</span><span class='op'>|</span> <span class='id identifier rubyid_trig'>trig</span><span class='period'>.</span><span class='id identifier rubyid_partof'>partof</span><span class='period'>.</span><span class='id identifier rubyid_cumulated_propag_time'>cumulated_propag_time</span><span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_min'>min</span>
        
        <span class='kw'>return</span> <span class='id identifier rubyid_payload_cumulated_delay'>payload_cumulated_delay</span> <span class='op'>-</span> <span class='id identifier rubyid_trigger_cumulated_delay'>trigger_cumulated_delay</span>
    <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="get_ht_size-instance_method">
  
    #<strong>get_ht_size</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


847
848
849</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/inserter/tamper.rb', line 847</span>

<span class='kw'>def</span> <span class='id identifier rubyid_get_ht_size'>get_ht_size</span> 
    <span class='kw'>return</span> <span class='ivar'>@ht</span><span class='period'>.</span><span class='id identifier rubyid_get_components'>get_components</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="get_ht_stage-instance_method">
  
    #<strong>get_ht_stage</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


843
844
845</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/inserter/tamper.rb', line 843</span>

<span class='kw'>def</span> <span class='id identifier rubyid_get_ht_stage'>get_ht_stage</span> 
    <span class='kw'>return</span> <span class='ivar'>@location</span> 
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="get_min_stage-instance_method">
  
    #<strong>get_min_stage</strong>(min_stage, nb_trigger_sig, nb_available_sig = 0)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


386
387
388
389
390
391
392
393
394
395</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/inserter/tamper.rb', line 386</span>

<span class='kw'>def</span> <span class='id identifier rubyid_get_min_stage'>get_min_stage</span> <span class='id identifier rubyid_min_stage'>min_stage</span><span class='comma'>,</span> <span class='id identifier rubyid_nb_trigger_sig'>nb_trigger_sig</span><span class='comma'>,</span> <span class='id identifier rubyid_nb_available_sig'>nb_available_sig</span> <span class='op'>=</span> <span class='int'>0</span>
    <span class='ivar'>@stages</span><span class='period'>.</span><span class='id identifier rubyid_keys'>keys</span><span class='lbracket'>[</span><span class='id identifier rubyid_min_stage'>min_stage</span><span class='op'>..</span><span class='op'>-</span><span class='int'>1</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_sort'>sort</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_stage'>stage</span><span class='op'>|</span>
        <span class='id identifier rubyid_nb_available_sig'>nb_available_sig</span> <span class='op'>+=</span> <span class='ivar'>@stages</span><span class='lbracket'>[</span><span class='id identifier rubyid_stage'>stage</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_nb_available_sig'>nb_available_sig</span> <span class='op'>&gt;</span> <span class='id identifier rubyid_nb_trigger_sig'>nb_trigger_sig</span>
            <span class='kw'>return</span> <span class='id identifier rubyid_stage'>stage</span>
        <span class='kw'>end</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Error: no minimum stage found for HT location selection. -&gt; </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_min_stage'>min_stage</span><span class='embexpr_end'>}</span><span class='tstring_content'> : </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_nb_trigger_sig'>nb_trigger_sig</span><span class='embexpr_end'>}</span><span class='tstring_content'> / </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_nb_available_sig'>nb_available_sig</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="get_payload_cumulated_delay-instance_method">
  
    #<strong>get_payload_cumulated_delay</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


839
840
841</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/inserter/tamper.rb', line 839</span>

<span class='kw'>def</span> <span class='id identifier rubyid_get_payload_cumulated_delay'>get_payload_cumulated_delay</span>
    <span class='kw'>return</span> <span class='ivar'>@ht</span><span class='period'>.</span><span class='id identifier rubyid_netlist'>netlist</span><span class='period'>.</span><span class='id identifier rubyid_cumulated_propag_time'>cumulated_propag_time</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="get_payload_delay-instance_method">
  
    #<strong>get_payload_delay</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


835
836
837</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/inserter/tamper.rb', line 835</span>

<span class='kw'>def</span> <span class='id identifier rubyid_get_payload_delay'>get_payload_delay</span> 
    <span class='ivar'>@ht</span><span class='period'>.</span><span class='id identifier rubyid_get_payload_in'>get_payload_in</span><span class='period'>.</span><span class='id identifier rubyid_partof'>partof</span><span class='period'>.</span><span class='id identifier rubyid_propag_time'>propag_time</span><span class='lbracket'>[</span><span class='ivar'>@delay_model</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="get_possible_values_for_limited_combination-instance_method">
  
    #<strong>get_possible_values_for_limited_combination</strong>(nb_elem, max_combination)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


487
488
489
490
491
492
493
494
495
496
497
498
499
500
501
502
503</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/inserter/tamper.rb', line 487</span>

<span class='kw'>def</span> <span class='id identifier rubyid_get_possible_values_for_limited_combination'>get_possible_values_for_limited_combination</span> <span class='id identifier rubyid_nb_elem'>nb_elem</span><span class='comma'>,</span> <span class='id identifier rubyid_max_combination'>max_combination</span>
    <span class='id identifier rubyid_values'>values</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='int'>1</span><span class='op'>..</span><span class='id identifier rubyid_nb_elem'>nb_elem</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_a'>to_a</span>
    <span class='id identifier rubyid_res'>res</span> <span class='op'>=</span> <span class='kw'>nil</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_values'>values</span><span class='period'>.</span><span class='id identifier rubyid_inject'>inject</span><span class='lparen'>(</span><span class='symbol'>:*</span><span class='rparen'>)</span> <span class='op'>&gt;</span> <span class='id identifier rubyid_max_combination'>max_combination</span>
        <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Error: too much elements, max_combination always exceeded.</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>

    <span class='kw'>while</span> <span class='int'>1</span> <span class='kw'>do</span> 
        <span class='id identifier rubyid_tmp'>tmp</span> <span class='op'>=</span> <span class='id identifier rubyid_values'>values</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_e'>e</span><span class='op'>|</span> <span class='id identifier rubyid_e'>e</span><span class='op'>+</span><span class='int'>1</span><span class='rbrace'>}</span>
        <span class='id identifier rubyid_combination'>combination</span> <span class='op'>=</span> <span class='id identifier rubyid_tmp'>tmp</span><span class='period'>.</span><span class='id identifier rubyid_inject'>inject</span><span class='lparen'>(</span><span class='symbol'>:*</span><span class='rparen'>)</span>
        <span class='kw'>break</span> <span class='kw'>if</span> <span class='id identifier rubyid_combination'>combination</span> <span class='op'>&gt;</span> <span class='id identifier rubyid_max_combination'>max_combination</span>
        <span class='id identifier rubyid_values'>values</span> <span class='op'>=</span> <span class='id identifier rubyid_tmp'>tmp</span>
    <span class='kw'>end</span>

    <span class='kw'>return</span> <span class='id identifier rubyid_values'>values</span><span class='lbracket'>[</span><span class='op'>-</span><span class='int'>1</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="get_transi_poba-instance_method">
  
    #<strong>get_transi_poba</strong>(trig_list)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


445
446
447
448
449</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/inserter/tamper.rb', line 445</span>

<span class='kw'>def</span> <span class='id identifier rubyid_get_transi_poba'>get_transi_poba</span> <span class='id identifier rubyid_trig_list'>trig_list</span>
    <span class='id identifier rubyid_trig_list'>trig_list</span><span class='period'>.</span><span class='id identifier rubyid_collect'>collect</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_sig'>sig</span><span class='op'>|</span>
        <span class='id identifier rubyid_get_transi_proba_sig'>get_transi_proba_sig</span><span class='lparen'>(</span><span class='id identifier rubyid_sig'>sig</span><span class='rparen'>)</span>
    <span class='kw'>end</span><span class='period'>.</span><span class='id identifier rubyid_sum'>sum</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="get_transi_proba_sig-instance_method">
  
    #<strong>get_transi_proba_sig</strong>(sig)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


451
452
453
454
455
456
457</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/inserter/tamper.rb', line 451</span>

<span class='kw'>def</span> <span class='id identifier rubyid_get_transi_proba_sig'>get_transi_proba_sig</span> <span class='id identifier rubyid_sig'>sig</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_sig'>sig</span><span class='period'>.</span><span class='id identifier rubyid_partof'>partof</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span> <span class='const'><span class='object_link'><a href="../Netlist.html" title="Netlist (module)">Netlist</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Netlist/Gate.html" title="Netlist::Gate (class)">Gate</a></span></span>
        <span class='ivar'>@netlist</span><span class='period'>.</span><span class='id identifier rubyid_get_transition_probability_h'>get_transition_probability_h</span><span class='lbracket'>[</span><span class='id identifier rubyid_sig'>sig</span><span class='period'>.</span><span class='id identifier rubyid_partof'>partof</span><span class='rbracket'>]</span>
    <span class='kw'>else</span> 
        <span class='float'>0.5</span>
    <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="get_trigger_conditions-instance_method">
  
    #<strong>get_trigger_conditions</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <ul><li>
<p>: A method to get the trigger condition (boolean expression)</p>
</li></ul>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/inserter/tamper.rb', line 162</span>

<span class='kw'>def</span> <span class='id identifier rubyid_get_trigger_conditions'>get_trigger_conditions</span>
    <span class='id identifier rubyid_local_exp'>local_exp</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span> 
        <span class='id identifier rubyid_trig_list'>trig_list</span> <span class='op'>=</span> <span class='ivar'>@ht</span><span class='period'>.</span><span class='id identifier rubyid_get_triggers'>get_triggers</span> 
        <span class='id identifier rubyid_trig_list'>trig_list</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span><span class='period'>.</span><span class='id identifier rubyid_times'>times</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='op'>|</span>
            <span class='kw'>if</span> <span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_even?'>even?</span>
                <span class='id identifier rubyid_input_ports'>input_ports</span> <span class='op'>=</span> <span class='id identifier rubyid_trig_list'>trig_list</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_partof'>partof</span><span class='period'>.</span><span class='id identifier rubyid_get_inputs'>get_inputs</span>
                <span class='id identifier rubyid_local_exp'>local_exp</span> <span class='op'>&lt;&lt;</span> <span class='lbracket'>[</span><span class='id identifier rubyid_input_ports'>input_ports</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_get_source'>get_source</span><span class='period'>.</span><span class='id identifier rubyid_get_full_name'>get_full_name</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>and</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_input_ports'>input_ports</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_get_source'>get_source</span><span class='period'>.</span><span class='id identifier rubyid_get_full_name'>get_full_name</span><span class='rbracket'>]</span>
            <span class='kw'>else</span> 
                <span class='id identifier rubyid_local_exp'>local_exp</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>and</span><span class='tstring_end'>&quot;</span></span>
                <span class='kw'>next</span>
            <span class='kw'>end</span>
        <span class='kw'>end</span>
        <span class='id identifier rubyid_local_exp'>local_exp</span><span class='period'>.</span><span class='id identifier rubyid_pop'>pop</span>

    <span class='id identifier rubyid_local_exp'>local_exp</span> <span class='op'>=</span> <span class='ivar'>@netlist</span><span class='period'>.</span><span class='id identifier rubyid_to_global_exp'>to_global_exp</span><span class='lparen'>(</span><span class='id identifier rubyid_local_exp'>local_exp</span><span class='rparen'>)</span>

    <span class='kw'>return</span> <span class='id identifier rubyid_local_exp'>local_exp</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="ht_is_inserted?-instance_method">
  
    #<strong>ht_is_inserted?</strong>  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


785
786
787</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/inserter/tamper.rb', line 785</span>

<span class='kw'>def</span> <span class='id identifier rubyid_ht_is_inserted?'>ht_is_inserted?</span>
    <span class='ivar'>@ht</span><span class='period'>.</span><span class='id identifier rubyid_is_inserted?'>is_inserted?</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="insert-instance_method">
  
    #<strong>insert</strong>(zone = &quot;random&quot;)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


789
790
791
792
793
794
795
796
797
798
799
800
801
802
803
804
805
806
807
808
809
810
811
812
813
814
815
816
817
818
819
820
821
822</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/inserter/tamper.rb', line 789</span>

<span class='kw'>def</span> <span class='id identifier rubyid_insert'>insert</span> <span class='id identifier rubyid_zone'>zone</span><span class='op'>=</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>random</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_loc'>loc</span><span class='comma'>,</span> <span class='id identifier rubyid_max_stage'>max_stage</span> <span class='op'>=</span> <span class='id identifier rubyid_select_location'>select_location</span><span class='lparen'>(</span><span class='id identifier rubyid_zone'>zone</span><span class='comma'>,</span> <span class='ivar'>@ht</span><span class='period'>.</span><span class='id identifier rubyid_get_triggers_nb'>get_triggers_nb</span><span class='rparen'>)</span>

    <span class='comment'># * : Payload insertion (removing old links and creating new ones)
</span>    <span class='id identifier rubyid_loc'>loc</span><span class='period'>.</span><span class='id identifier rubyid_get_sinks'>get_sinks</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span><span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_sink'>sink</span><span class='op'>|</span>
        <span class='id identifier rubyid_sink'>sink</span><span class='period'>.</span><span class='id identifier rubyid_unplug'>unplug</span> <span class='id identifier rubyid_sink'>sink</span><span class='period'>.</span><span class='id identifier rubyid_get_source'>get_source</span><span class='period'>.</span><span class='id identifier rubyid_get_full_name'>get_full_name</span>
        <span class='id identifier rubyid_sink'>sink</span> <span class='op'>&lt;=</span> <span class='ivar'>@ht</span><span class='period'>.</span><span class='id identifier rubyid_get_payload_out'>get_payload_out</span>
    <span class='rbrace'>}</span>
    <span class='ivar'>@ht</span><span class='period'>.</span><span class='id identifier rubyid_get_payload_in'>get_payload_in</span> <span class='op'>&lt;=</span> <span class='id identifier rubyid_loc'>loc</span>

    <span class='id identifier rubyid_trig'>trig</span> <span class='op'>=</span> <span class='id identifier rubyid_select_triggers_sig'>select_triggers_sig</span><span class='lparen'>(</span><span class='ivar'>@ht</span><span class='period'>.</span><span class='id identifier rubyid_get_triggers_nb'>get_triggers_nb</span><span class='comma'>,</span> <span class='id identifier rubyid_max_stage'>max_stage</span><span class='rparen'>)</span>

    <span class='comment'># * : Linking triggers slot to selected triggers signals (already existing in the authentic circuit).
</span>    <span class='id identifier rubyid_trig'>trig</span><span class='period'>.</span><span class='id identifier rubyid_zip'>zip</span><span class='lparen'>(</span><span class='ivar'>@ht</span><span class='period'>.</span><span class='id identifier rubyid_get_triggers'>get_triggers</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_output'>output</span><span class='comma'>,</span> <span class='id identifier rubyid_input'>input</span><span class='op'>|</span>
        <span class='id identifier rubyid_input'>input</span> <span class='op'>&lt;=</span> <span class='id identifier rubyid_output'>output</span>
    <span class='rbrace'>}</span>

    <span class='comment'># * : Adding components added to the netlists components list (used for printing and format conversions).
</span>    <span class='ivar'>@ht</span><span class='period'>.</span><span class='id identifier rubyid_get_components'>get_components</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_comp'>comp</span><span class='op'>|</span>
        <span class='ivar'>@netlist</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_comp'>comp</span>
    <span class='kw'>end</span>

    <span class='comment'># @ht.get_triggers.each{|e| puts e.get_source.nil?}
</span>    <span class='comment'># raise &quot;stop&quot;
</span>    <span class='comment'># * : Verification and printing informations 
</span>    <span class='ivar'>@location</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='id identifier rubyid_max_stage'>max_stage</span><span class='period'>.</span><span class='id identifier rubyid_to_f'>to_f</span> <span class='op'>/</span> <span class='ivar'>@stages</span><span class='period'>.</span><span class='id identifier rubyid_keys'>keys</span><span class='period'>.</span><span class='id identifier rubyid_last'>last</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_round'>round</span><span class='lparen'>(</span><span class='int'>3</span><span class='rparen'>)</span>

    <span class='kw'>if</span> <span class='ivar'>@ht</span><span class='period'>.</span><span class='id identifier rubyid_is_inserted?'>is_inserted?</span>
        <span class='comment'># puts &quot;HT inserted : \n\t- Payload : #{@ht.get_payload_in.partof.name}\n\t- Trigger proba. : #{@ht.get_transition_probability} \n\t- Number of trigger signals : #{@ht.get_triggers_nb}\n\t- Stage : #{max_stage}&quot;
</span>        <span class='kw'>return</span> <span class='ivar'>@netlist</span>
    <span class='kw'>else</span> 
        <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Error : internal fault. Ht not correctly inserted.</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="insert2-instance_method">
  
    #<strong>insert2</strong>(zone = &quot;random&quot;)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


726
727
728
729
730
731
732
733
734
735
736
737
738
739
740
741
742
743
744
745
746
747
748
749
750
751
752
753
754
755
756
757
758
759
760
761
762
763
764
765
766
767
768
769
770
771
772
773
774
775
776
777
778
779
780
781
782
783</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/inserter/tamper.rb', line 726</span>

<span class='kw'>def</span> <span class='id identifier rubyid_insert2'>insert2</span> <span class='id identifier rubyid_zone'>zone</span><span class='op'>=</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>random</span><span class='tstring_end'>&quot;</span></span>

    <span class='comment'># @forbidden_locs = []
</span>    <span class='comment'># rescue_data = {:loc_sinks =&gt; []}
</span>    <span class='kw'>begin</span> 
        <span class='id identifier rubyid_attempts'>attempts</span> <span class='op'>||=</span> <span class='int'>0</span>
        
        <span class='id identifier rubyid_loc'>loc</span><span class='comma'>,</span> <span class='id identifier rubyid_max_stage'>max_stage</span> <span class='op'>=</span> <span class='id identifier rubyid_select_location2'>select_location2</span><span class='lparen'>(</span><span class='id identifier rubyid_zone'>zone</span><span class='comma'>,</span> <span class='ivar'>@ht</span><span class='period'>.</span><span class='id identifier rubyid_get_triggers_nb'>get_triggers_nb</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Inserted on </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_loc'>loc</span><span class='period'>.</span><span class='id identifier rubyid_get_full_name'>get_full_name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='gvar'>$VERBOSE</span>
        
        <span class='comment'># * : Payload insertion (removing old links and creating new ones)
</span>        <span class='id identifier rubyid_source'>source</span> <span class='op'>=</span> <span class='id identifier rubyid_loc'>loc</span><span class='period'>.</span><span class='id identifier rubyid_get_source'>get_source</span>
        <span class='id identifier rubyid_loc'>loc</span><span class='period'>.</span><span class='id identifier rubyid_unplug2'>unplug2</span> <span class='id identifier rubyid_source'>source</span><span class='period'>.</span><span class='id identifier rubyid_get_full_name'>get_full_name</span>
        <span class='id identifier rubyid_loc'>loc</span> <span class='op'>&lt;=</span> <span class='ivar'>@ht</span><span class='period'>.</span><span class='id identifier rubyid_get_payload_out'>get_payload_out</span>
        <span class='ivar'>@ht</span><span class='period'>.</span><span class='id identifier rubyid_get_payload_in'>get_payload_in</span> <span class='op'>&lt;=</span> <span class='id identifier rubyid_source'>source</span>

        <span class='kw'>if</span> <span class='id identifier rubyid_source'>source</span><span class='period'>.</span><span class='id identifier rubyid_is_global?'>is_global?</span>
            <span class='id identifier rubyid_max_delay'>max_delay</span> <span class='op'>=</span> <span class='id identifier rubyid_source'>source</span><span class='period'>.</span><span class='id identifier rubyid_cumulated_propag_time'>cumulated_propag_time</span> <span class='op'>+</span> <span class='id identifier rubyid_loc'>loc</span><span class='period'>.</span><span class='id identifier rubyid_slack'>slack</span>
        <span class='kw'>else</span>
            <span class='id identifier rubyid_max_delay'>max_delay</span> <span class='op'>=</span> <span class='id identifier rubyid_source'>source</span><span class='period'>.</span><span class='id identifier rubyid_partof'>partof</span><span class='period'>.</span><span class='id identifier rubyid_cumulated_propag_time'>cumulated_propag_time</span> <span class='op'>+</span> <span class='id identifier rubyid_loc'>loc</span><span class='period'>.</span><span class='id identifier rubyid_slack'>slack</span>
        <span class='kw'>end</span>
        <span class='ivar'>@trig</span> <span class='op'>=</span> <span class='id identifier rubyid_select_triggers_limited'>select_triggers_limited</span><span class='lparen'>(</span><span class='ivar'>@ht</span><span class='period'>.</span><span class='id identifier rubyid_get_triggers_nb'>get_triggers_nb</span><span class='comma'>,</span> <span class='id identifier rubyid_max_stage'>max_stage</span><span class='comma'>,</span> <span class='id identifier rubyid_max_delay'>max_delay</span><span class='rparen'>)</span>
        <span class='ivar'>@insertPoint</span> <span class='op'>=</span> <span class='id identifier rubyid_loc'>loc</span>
    <span class='kw'>rescue</span> <span class='const'><span class='object_link'><a href="NoTriggerFound.html" title="Inserter::NoTriggerFound (class)">NoTriggerFound</a></span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
        <span class='kw'>if</span> <span class='gvar'>$VERBOSE</span>
            <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Insertion location research number </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_attempts'>attempts</span><span class='embexpr_end'>}</span><span class='tstring_content'> !</span><span class='tstring_end'>&quot;</span></span>
        <span class='kw'>end</span>

        <span class='ivar'>@forbidden_locs</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_loc'>loc</span><span class='period'>.</span><span class='id identifier rubyid_get_full_name'>get_full_name</span>
        <span class='comment'># @forbidden_triggers.clear
</span>        <span class='ivar'>@trigger_pool</span><span class='period'>.</span><span class='id identifier rubyid_clear'>clear</span>
        <span class='ivar'>@ht</span><span class='period'>.</span><span class='id identifier rubyid_get_payload_in'>get_payload_in</span><span class='period'>.</span><span class='id identifier rubyid_unplug2'>unplug2</span> <span class='id identifier rubyid_source'>source</span><span class='period'>.</span><span class='id identifier rubyid_get_full_name'>get_full_name</span> 
        <span class='id identifier rubyid_loc'>loc</span><span class='period'>.</span><span class='id identifier rubyid_unplug2'>unplug2</span> <span class='id identifier rubyid_loc'>loc</span><span class='period'>.</span><span class='id identifier rubyid_get_source'>get_source</span><span class='period'>.</span><span class='id identifier rubyid_get_full_name'>get_full_name</span>
        <span class='id identifier rubyid_loc'>loc</span> <span class='op'>&lt;=</span> <span class='id identifier rubyid_source'>source</span>

        <span class='id identifier rubyid_attempts'>attempts</span> <span class='op'>+=</span> <span class='int'>1</span>
        <span class='kw'>retry</span>
    <span class='kw'>end</span> 

    <span class='comment'># * : Linking triggers slot to selected triggers signals (already existing in the authentic circuit).
</span>    <span class='ivar'>@trig</span><span class='period'>.</span><span class='id identifier rubyid_zip'>zip</span><span class='lparen'>(</span><span class='ivar'>@ht</span><span class='period'>.</span><span class='id identifier rubyid_get_triggers'>get_triggers</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_output'>output</span><span class='comma'>,</span> <span class='id identifier rubyid_input'>input</span><span class='op'>|</span>
        <span class='id identifier rubyid_input'>input</span> <span class='op'>&lt;=</span> <span class='id identifier rubyid_output'>output</span>
    <span class='rbrace'>}</span>

    <span class='comment'># * : Adding components added to the netlists components list (used for printing and format conversions).
</span>    <span class='ivar'>@ht</span><span class='period'>.</span><span class='id identifier rubyid_get_components'>get_components</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_comp'>comp</span><span class='op'>|</span>
        <span class='ivar'>@netlist</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_comp'>comp</span>
    <span class='kw'>end</span>

    <span class='comment'># * : Verification and printing informations 
</span>    <span class='ivar'>@location</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='id identifier rubyid_max_delay'>max_delay</span><span class='period'>.</span><span class='id identifier rubyid_to_f'>to_f</span> <span class='op'>/</span> <span class='ivar'>@timings_h</span><span class='period'>.</span><span class='id identifier rubyid_keys'>keys</span><span class='period'>.</span><span class='id identifier rubyid_last'>last</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_round'>round</span><span class='lparen'>(</span><span class='int'>3</span><span class='rparen'>)</span>

    <span class='kw'>if</span> <span class='ivar'>@ht</span><span class='period'>.</span><span class='id identifier rubyid_is_inserted?'>is_inserted?</span>
        <span class='kw'>return</span> <span class='ivar'>@netlist</span>
    <span class='kw'>else</span> 
        <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Error : internal fault. Ht not correctly inserted.</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="insert_buffer_at-instance_method">
  
    #<strong>insert_buffer_at</strong>(loc, delay = 1)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


663
664
665
666
667
668
669
670
671
672
673
674
675
676
677
678
679
680
681
682</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/inserter/tamper.rb', line 663</span>

<span class='kw'>def</span> <span class='id identifier rubyid_insert_buffer_at'>insert_buffer_at</span> <span class='id identifier rubyid_loc'>loc</span><span class='comma'>,</span> <span class='id identifier rubyid_delay'>delay</span> <span class='op'>=</span> <span class='int'>1</span>
    <span class='ivar'>@ht</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../Inserter.html" title="Inserter (module)">Inserter</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Buf.html" title="Inserter::Buf (class)">Buf</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Buf.html#initialize-instance_method" title="Inserter::Buf#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_delay'>delay</span><span class='rparen'>)</span>

    <span class='comment'># source_node = loc.get_source  #!DEBUG
</span>    <span class='comment'># if source_node.instance_of? Netlist::Port and source_node.is_global?
</span>    <span class='comment'>#     pp &#39;here&#39;
</span>    <span class='comment'># end
</span>
    <span class='id identifier rubyid_source'>source</span> <span class='op'>=</span> <span class='id identifier rubyid_loc'>loc</span><span class='period'>.</span><span class='id identifier rubyid_get_source'>get_source</span>
    <span class='id identifier rubyid_loc'>loc</span><span class='period'>.</span><span class='id identifier rubyid_unplug2'>unplug2</span> <span class='id identifier rubyid_source'>source</span><span class='period'>.</span><span class='id identifier rubyid_get_full_name'>get_full_name</span>
    <span class='id identifier rubyid_loc'>loc</span> <span class='op'>&lt;=</span> <span class='ivar'>@ht</span><span class='period'>.</span><span class='id identifier rubyid_get_payload_out'>get_payload_out</span>
    <span class='ivar'>@ht</span><span class='period'>.</span><span class='id identifier rubyid_get_payload_in'>get_payload_in</span> <span class='op'>&lt;=</span> <span class='id identifier rubyid_source'>source</span>

    <span class='ivar'>@ht</span><span class='period'>.</span><span class='id identifier rubyid_components'>components</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_c'>c</span><span class='op'>|</span>
        <span class='id identifier rubyid_c'>c</span><span class='period'>.</span><span class='id identifier rubyid_tag'>tag</span> <span class='op'>=</span> <span class='symbol'>:ht</span>
        <span class='ivar'>@netlist</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_c'>c</span>
    <span class='kw'>end</span>

    <span class='kw'>return</span> <span class='ivar'>@netlist</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="inside_out-instance_method">
  
    #<strong>inside_out</strong>(h)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


133
134
135
136
137
138</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/inserter/tamper.rb', line 133</span>

<span class='kw'>def</span> <span class='id identifier rubyid_inside_out'>inside_out</span><span class='lparen'>(</span><span class='id identifier rubyid_h'>h</span><span class='rparen'>)</span>
    <span class='comment'># * : Inverts a hash, using the values as keys and the keys as values
</span>    <span class='id identifier rubyid_g'>g</span> <span class='op'>=</span> <span class='id identifier rubyid_h'>h</span><span class='period'>.</span><span class='id identifier rubyid_flat_map'>flat_map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_s'>s</span><span class='comma'>,</span><span class='id identifier rubyid_a'>a</span><span class='op'>|</span> <span class='lbracket'>[</span><span class='id identifier rubyid_a'>a</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_product'>product</span><span class='lparen'>(</span><span class='lbracket'>[</span><span class='id identifier rubyid_s'>s</span><span class='rbracket'>]</span><span class='rparen'>)</span> <span class='rbrace'>}</span>
         <span class='period'>.</span><span class='id identifier rubyid_group_by'>group_by</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:first</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_g'>g</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span><span class='id identifier rubyid_g'>g</span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid__'>_</span><span class='comma'>,</span><span class='id identifier rubyid_a'>a</span><span class='op'>|</span> <span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:last</span><span class='rparen'>)</span> <span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="select_ht-instance_method">
  
    #<strong>select_ht</strong>(type, nb_trigger_sig = 4)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>! : Legacy / Not working def visit_netlist sink_comp, curr_stage # * : Recursive function used to fill the @stages attribute, going through the paths from inputs to outputs.</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>if</span> <span class='id identifier rubyid_sink_comp'>sink_comp</span><span class='period'>.</span><span class='id identifier rubyid_partof'>partof</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> 
    <span class='kw'>return</span> <span class='kw'>nil</span>
<span class='kw'>elsif</span> <span class='ivar'>@stages</span><span class='period'>.</span><span class='id identifier rubyid_keys'>keys</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_sink_comp'>sink_comp</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='ivar'>@stages</span><span class='lbracket'>[</span><span class='id identifier rubyid_sink_comp'>sink_comp</span><span class='rbracket'>]</span> <span class='op'>&lt;</span> <span class='id identifier rubyid_curr_stage'>curr_stage</span>
        <span class='ivar'>@stages</span><span class='lbracket'>[</span><span class='id identifier rubyid_sink_comp'>sink_comp</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_curr_stage'>curr_stage</span>
        <span class='id identifier rubyid_propag_visit'>propag_visit</span> <span class='id identifier rubyid_sink_comp'>sink_comp</span><span class='comma'>,</span> <span class='id identifier rubyid_curr_stage'>curr_stage</span>
    <span class='kw'>end</span>
    <span class='kw'>return</span> <span class='kw'>nil</span>
<span class='kw'>else</span>
    <span class='ivar'>@stages</span><span class='lbracket'>[</span><span class='id identifier rubyid_sink_comp'>sink_comp</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_curr_stage'>curr_stage</span>
    <span class='id identifier rubyid_propag_visit'>propag_visit</span> <span class='id identifier rubyid_sink_comp'>sink_comp</span><span class='comma'>,</span> <span class='id identifier rubyid_curr_stage'>curr_stage</span>
<span class='kw'>end</span>
</code></pre>

<p>end</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/inserter/tamper.rb', line 293</span>

<span class='kw'>def</span> <span class='id identifier rubyid_select_ht'>select_ht</span> <span class='id identifier rubyid_type'>type</span><span class='comma'>,</span> <span class='id identifier rubyid_nb_trigger_sig'>nb_trigger_sig</span> <span class='op'>=</span> <span class='int'>4</span>
    <span class='comment'># * Instantiate and load a HT, method insert allows to inject it into the loaded netlist
</span>    <span class='kw'>case</span> <span class='id identifier rubyid_type'>type</span> 
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>xor_and</span><span class='tstring_end'>&quot;</span></span>
        <span class='kw'>if</span> <span class='id identifier rubyid_nb_trigger_sig'>nb_trigger_sig</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
            <span class='ivar'>@ht</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../Inserter.html" title="Inserter (module)">Inserter</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Xor_And.html" title="Inserter::Xor_And (class)">Xor_And</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Xor_And.html#initialize-instance_method" title="Inserter::Xor_And#initialize (method)">new</a></span></span>
        <span class='kw'>else</span>
            <span class='ivar'>@ht</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../Inserter.html" title="Inserter (module)">Inserter</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Xor_And.html" title="Inserter::Xor_And (class)">Xor_And</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Xor_And.html#initialize-instance_method" title="Inserter::Xor_And#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_nb_trigger_sig'>nb_trigger_sig</span><span class='rparen'>)</span>
        <span class='kw'>end</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>cotd_s38417</span><span class='tstring_end'>&quot;</span></span>
        <span class='ivar'>@ht</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../Inserter.html" title="Inserter (module)">Inserter</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Cotd_s38417.html" title="Inserter::Cotd_s38417 (class)">Cotd_s38417</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Cotd_s38417.html#initialize-instance_method" title="Inserter::Cotd_s38417#initialize (method)">new</a></span></span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>og_s38417</span><span class='tstring_end'>&quot;</span></span>
        <span class='ivar'>@ht</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../Inserter.html" title="Inserter (module)">Inserter</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Og_s38417.html" title="Inserter::Og_s38417 (class)">Og_s38417</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Og_s38417.html#initialize-instance_method" title="Inserter::Og_s38417#initialize (method)">new</a></span></span> <span class='id identifier rubyid_nb_trigger_sig'>nb_trigger_sig</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>it_s38417</span><span class='tstring_end'>&quot;</span></span>
        <span class='ivar'>@ht</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../Inserter.html" title="Inserter (module)">Inserter</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="It_s38417.html" title="Inserter::It_s38417 (class)">It_s38417</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="It_s38417.html#initialize-instance_method" title="Inserter::It_s38417#initialize (method)">new</a></span></span> <span class='id identifier rubyid_nb_trigger_sig'>nb_trigger_sig</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>or_and</span><span class='tstring_end'>&quot;</span></span>
        <span class='ivar'>@ht</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../Inserter.html" title="Inserter (module)">Inserter</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Or_And.html" title="Inserter::Or_And (class)">Or_And</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Or_And.html#initialize-instance_method" title="Inserter::Or_And#initialize (method)">new</a></span></span> <span class='id identifier rubyid_nb_trigger_sig'>nb_trigger_sig</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>and_not_and</span><span class='tstring_end'>&quot;</span></span>
        <span class='ivar'>@ht</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../Inserter.html" title="Inserter (module)">Inserter</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="And_Not_And.html" title="Inserter::And_Not_And (class)">And_Not_And</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="And_Not_And.html#initialize-instance_method" title="Inserter::And_Not_And#initialize (method)">new</a></span></span> <span class='id identifier rubyid_nb_trigger_sig'>nb_trigger_sig</span>
    <span class='kw'>else</span> 
        <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Error : Unknown HT type </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_type'>type</span><span class='embexpr_end'>}</span><span class='tstring_content'>. Please verify syntax.</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>

    <span class='ivar'>@ht</span><span class='period'>.</span><span class='id identifier rubyid_components'>components</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_comp'>comp</span><span class='op'>|</span>
        <span class='id identifier rubyid_comp'>comp</span><span class='period'>.</span><span class='id identifier rubyid_tag'>tag</span> <span class='op'>=</span> <span class='symbol'>:ht</span>
    <span class='kw'>end</span>

    <span class='ivar'>@ht</span><span class='period'>.</span><span class='id identifier rubyid_get_exact_crit_path'>get_exact_crit_path</span><span class='lparen'>(</span><span class='ivar'>@delay_model</span><span class='rparen'>)</span>

<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="select_location-instance_method">
  
    #<strong>select_location</strong>(zone, nb_trigger_sig)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/inserter/tamper.rb', line 397</span>

<span class='kw'>def</span> <span class='id identifier rubyid_select_location'>select_location</span> <span class='id identifier rubyid_zone'>zone</span><span class='comma'>,</span> <span class='id identifier rubyid_nb_trigger_sig'>nb_trigger_sig</span>
    <span class='kw'>case</span> <span class='id identifier rubyid_zone'>zone</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>near_input</span><span class='tstring_end'>&quot;</span></span>
        <span class='comment'># Fix a minimum stage with enough internal signals to insert the ht
</span>        <span class='id identifier rubyid_nb_available_sig'>nb_available_sig</span> <span class='op'>=</span> <span class='ivar'>@netlist</span><span class='period'>.</span><span class='id identifier rubyid_get_inputs'>get_inputs</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span>
        <span class='id identifier rubyid_min_stage'>min_stage</span> <span class='op'>=</span> <span class='id identifier rubyid_get_min_stage'>get_min_stage</span> <span class='int'>0</span><span class='comma'>,</span> <span class='id identifier rubyid_nb_trigger_sig'>nb_trigger_sig</span><span class='comma'>,</span> <span class='id identifier rubyid_nb_available_sig'>nb_available_sig</span>
        <span class='id identifier rubyid_max_stage'>max_stage</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='float'>0.3</span> <span class='op'>*</span> <span class='ivar'>@stages</span><span class='period'>.</span><span class='id identifier rubyid_keys'>keys</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>near_output</span><span class='tstring_end'>&quot;</span></span>
        <span class='id identifier rubyid_initial_min_stage'>initial_min_stage</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='float'>0.7</span> <span class='op'>*</span> <span class='ivar'>@stages</span><span class='period'>.</span><span class='id identifier rubyid_keys'>keys</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span>
        <span class='comment'># Fix a minimum stage with enough internal signals to insert the ht
</span>        <span class='id identifier rubyid_min_stage'>min_stage</span> <span class='op'>=</span> <span class='id identifier rubyid_get_min_stage'>get_min_stage</span> <span class='id identifier rubyid_initial_min_stage'>initial_min_stage</span><span class='comma'>,</span> <span class='id identifier rubyid_nb_trigger_sig'>nb_trigger_sig</span>
        <span class='id identifier rubyid_max_stage'>max_stage</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='ivar'>@stages</span><span class='period'>.</span><span class='id identifier rubyid_keys'>keys</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span><span class='rparen'>)</span> <span class='op'>-</span><span class='int'>1</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>middle</span><span class='tstring_end'>&quot;</span></span>
        <span class='id identifier rubyid_initial_min_stage'>initial_min_stage</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='float'>0.3</span> <span class='op'>*</span> <span class='ivar'>@stages</span><span class='period'>.</span><span class='id identifier rubyid_keys'>keys</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span>
        <span class='comment'># Fix a minimum stage with enough internal signals to insert the ht
</span>        <span class='id identifier rubyid_min_stage'>min_stage</span> <span class='op'>=</span> <span class='id identifier rubyid_get_min_stage'>get_min_stage</span> <span class='id identifier rubyid_initial_min_stage'>initial_min_stage</span><span class='comma'>,</span> <span class='id identifier rubyid_nb_trigger_sig'>nb_trigger_sig</span>
        <span class='id identifier rubyid_max_stage'>max_stage</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='float'>0.7</span> <span class='op'>*</span> <span class='ivar'>@stages</span><span class='period'>.</span><span class='id identifier rubyid_keys'>keys</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>random</span><span class='tstring_end'>&quot;</span></span>
        <span class='id identifier rubyid_nb_available_sig'>nb_available_sig</span> <span class='op'>=</span> <span class='ivar'>@netlist</span><span class='period'>.</span><span class='id identifier rubyid_get_inputs'>get_inputs</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span>
        <span class='id identifier rubyid_initial_min_stage'>initial_min_stage</span> <span class='op'>=</span> <span class='int'>0</span>
        <span class='comment'># Fix a minimum stage with enough internal signals to insert the ht
</span>        <span class='id identifier rubyid_min_stage'>min_stage</span> <span class='op'>=</span> <span class='id identifier rubyid_get_min_stage'>get_min_stage</span> <span class='id identifier rubyid_initial_min_stage'>initial_min_stage</span><span class='comma'>,</span> <span class='id identifier rubyid_nb_trigger_sig'>nb_trigger_sig</span><span class='comma'>,</span> <span class='id identifier rubyid_nb_available_sig'>nb_available_sig</span>
        <span class='id identifier rubyid_max_stage'>max_stage</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='ivar'>@stages</span><span class='period'>.</span><span class='id identifier rubyid_keys'>keys</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span><span class='rparen'>)</span><span class='op'>-</span><span class='int'>1</span>
    <span class='kw'>else</span>
        <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Error : Unknown zone type </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_zone'>zone</span><span class='embexpr_end'>}</span><span class='tstring_content'>. Please verify syntax.</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>

    <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_max_stage'>max_stage</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='kw'>and</span> <span class='id identifier rubyid_max_stage'>max_stage</span> <span class='op'>&lt;=</span> <span class='id identifier rubyid_min_stage'>min_stage</span> 
        <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Error:  Not enough space to insert this trojan, too close to the inputs. Try another trojan or increase the circuit size.</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_stage'>stage</span> <span class='op'>=</span> <span class='ivar'>@stages</span><span class='period'>.</span><span class='id identifier rubyid_keys'>keys</span><span class='lbracket'>[</span><span class='id identifier rubyid_min_stage'>min_stage</span><span class='op'>...</span><span class='id identifier rubyid_max_stage'>max_stage</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_sample'>sample</span>
         
    <span class='kw'>if</span> <span class='ivar'>@stages</span><span class='lbracket'>[</span><span class='id identifier rubyid_stage'>stage</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> 
        <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Error: Attribute valued nil\n -&gt; @stages : </span><span class='embexpr_beg'>#{</span><span class='ivar'>@stages</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span><span class='embexpr_end'>}</span><span class='tstring_content'> @stages[stage] : </span><span class='embexpr_beg'>#{</span><span class='ivar'>@stages</span><span class='lbracket'>[</span><span class='id identifier rubyid_stage'>stage</span><span class='rbracket'>]</span><span class='embexpr_end'>}</span><span class='tstring_content'> stage : </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_stage'>stage</span><span class='embexpr_end'>}</span><span class='tstring_content'> min_stage : </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_min_stage'>min_stage</span><span class='embexpr_end'>}</span><span class='tstring_content'> stage_max : </span><span class='embexpr_beg'>#{</span><span class='ivar'>@stages</span><span class='period'>.</span><span class='id identifier rubyid_keys'>keys</span><span class='period'>.</span><span class='id identifier rubyid_max'>max</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_attacked_sig'>attacked_sig</span> <span class='op'>=</span> <span class='ivar'>@stages</span><span class='lbracket'>[</span><span class='id identifier rubyid_stage'>stage</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_sample'>sample</span><span class='period'>.</span><span class='id identifier rubyid_get_output'>get_output</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_attacked_sig'>attacked_sig</span><span class='period'>.</span><span class='id identifier rubyid_get_sinks'>get_sinks</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span> <span class='comment'># ! DEBUG
</span>        <span class='kw'>if</span> <span class='op'>!</span><span class='ivar'>@netlist</span><span class='period'>.</span><span class='id identifier rubyid_components'>components</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span> <span class='id identifier rubyid_attacked_sig'>attacked_sig</span><span class='period'>.</span><span class='id identifier rubyid_partof'>partof</span>
            <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Error: Unknown component, not found in the netlist</span><span class='tstring_end'>&quot;</span></span>
        <span class='kw'>end</span>
        <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Error: selected insertion location has no sink.\n -&gt; </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_attacked_sig'>attacked_sig</span><span class='period'>.</span><span class='id identifier rubyid_get_full_name'>get_full_name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>

    <span class='kw'>return</span> <span class='id identifier rubyid_attacked_sig'>attacked_sig</span><span class='comma'>,</span> <span class='id identifier rubyid_stage'>stage</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="select_location2-instance_method">
  
    #<strong>select_location2</strong>(zone, nb_trigger_sig)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/inserter/tamper.rb', line 324</span>

<span class='kw'>def</span> <span class='id identifier rubyid_select_location2'>select_location2</span> <span class='id identifier rubyid_zone'>zone</span><span class='comma'>,</span> <span class='id identifier rubyid_nb_trigger_sig'>nb_trigger_sig</span>
    <span class='kw'>case</span> <span class='id identifier rubyid_zone'>zone</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>near_input</span><span class='tstring_end'>&quot;</span></span>
        <span class='comment'># Fix a minimum stage with enough internal signals to insert the ht
</span>        <span class='id identifier rubyid_nb_available_sig'>nb_available_sig</span> <span class='op'>=</span> <span class='ivar'>@netlist</span><span class='period'>.</span><span class='id identifier rubyid_get_inputs'>get_inputs</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span>
        <span class='id identifier rubyid_min_stage'>min_stage</span> <span class='op'>=</span> <span class='id identifier rubyid_get_min_stage'>get_min_stage</span> <span class='int'>0</span><span class='comma'>,</span> <span class='id identifier rubyid_nb_trigger_sig'>nb_trigger_sig</span><span class='comma'>,</span> <span class='id identifier rubyid_nb_available_sig'>nb_available_sig</span>
        <span class='id identifier rubyid_max_stage'>max_stage</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='float'>0.3</span> <span class='op'>*</span> <span class='ivar'>@stages</span><span class='period'>.</span><span class='id identifier rubyid_keys'>keys</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>near_output</span><span class='tstring_end'>&quot;</span></span>
        <span class='id identifier rubyid_initial_min_stage'>initial_min_stage</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='float'>0.7</span> <span class='op'>*</span> <span class='ivar'>@stages</span><span class='period'>.</span><span class='id identifier rubyid_keys'>keys</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span>
        <span class='comment'># Fix a minimum stage with enough internal signals to insert the ht
</span>        <span class='id identifier rubyid_min_stage'>min_stage</span> <span class='op'>=</span> <span class='id identifier rubyid_get_min_stage'>get_min_stage</span> <span class='id identifier rubyid_initial_min_stage'>initial_min_stage</span><span class='comma'>,</span> <span class='id identifier rubyid_nb_trigger_sig'>nb_trigger_sig</span>
        <span class='id identifier rubyid_max_stage'>max_stage</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='ivar'>@stages</span><span class='period'>.</span><span class='id identifier rubyid_keys'>keys</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span><span class='rparen'>)</span> <span class='op'>-</span><span class='int'>1</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>middle</span><span class='tstring_end'>&quot;</span></span>
        <span class='id identifier rubyid_initial_min_stage'>initial_min_stage</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='float'>0.3</span> <span class='op'>*</span> <span class='ivar'>@stages</span><span class='period'>.</span><span class='id identifier rubyid_keys'>keys</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span>
        <span class='comment'># Fix a minimum stage with enough internal signals to insert the ht
</span>        <span class='id identifier rubyid_min_stage'>min_stage</span> <span class='op'>=</span> <span class='id identifier rubyid_get_min_stage'>get_min_stage</span> <span class='id identifier rubyid_initial_min_stage'>initial_min_stage</span><span class='comma'>,</span> <span class='id identifier rubyid_nb_trigger_sig'>nb_trigger_sig</span>
        <span class='id identifier rubyid_max_stage'>max_stage</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='float'>0.7</span> <span class='op'>*</span> <span class='ivar'>@stages</span><span class='period'>.</span><span class='id identifier rubyid_keys'>keys</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>random</span><span class='tstring_end'>&quot;</span></span>
        <span class='id identifier rubyid_nb_available_sig'>nb_available_sig</span> <span class='op'>=</span> <span class='ivar'>@netlist</span><span class='period'>.</span><span class='id identifier rubyid_get_inputs'>get_inputs</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span>
        <span class='id identifier rubyid_initial_min_stage'>initial_min_stage</span> <span class='op'>=</span> <span class='int'>0</span>
        <span class='comment'># Fix a minimum stage with enough internal signals to insert the ht
</span>        <span class='id identifier rubyid_min_stage'>min_stage</span> <span class='op'>=</span> <span class='id identifier rubyid_get_min_stage'>get_min_stage</span> <span class='id identifier rubyid_initial_min_stage'>initial_min_stage</span><span class='comma'>,</span> <span class='id identifier rubyid_nb_trigger_sig'>nb_trigger_sig</span><span class='comma'>,</span> <span class='id identifier rubyid_nb_available_sig'>nb_available_sig</span>
        <span class='id identifier rubyid_max_stage'>max_stage</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='ivar'>@stages</span><span class='period'>.</span><span class='id identifier rubyid_keys'>keys</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span><span class='rparen'>)</span><span class='op'>-</span><span class='int'>1</span>
    <span class='kw'>else</span>
        <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Error : Unknown zone type </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_zone'>zone</span><span class='embexpr_end'>}</span><span class='tstring_content'>. Please verify syntax.</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>

    <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_max_stage'>max_stage</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='kw'>and</span> <span class='id identifier rubyid_max_stage'>max_stage</span> <span class='op'>&lt;=</span> <span class='id identifier rubyid_min_stage'>min_stage</span> 
        <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Error:  Not enough space to insert this trojan, too close to the inputs. Try another trojan or increase the circuit size.</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_sig_pool'>sig_pool</span> <span class='op'>=</span> <span class='ivar'>@stages</span><span class='period'>.</span><span class='id identifier rubyid_keys'>keys</span><span class='lbracket'>[</span><span class='id identifier rubyid_min_stage'>min_stage</span><span class='op'>...</span><span class='id identifier rubyid_max_stage'>max_stage</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_each_with_object'>each_with_object</span><span class='lparen'>(</span><span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_stage'>stage</span><span class='comma'>,</span> <span class='id identifier rubyid_h'>h</span><span class='op'>|</span>
        <span class='comment'># * Selects only signals which has a sufficient slack for insertion (payload propagation delay)
</span>        <span class='ivar'>@stages</span><span class='lbracket'>[</span><span class='id identifier rubyid_stage'>stage</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_comp'>comp</span><span class='op'>|</span>
            <span class='id identifier rubyid_comp'>comp</span><span class='period'>.</span><span class='id identifier rubyid_get_inputs'>get_inputs</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_in_p'>in_p</span><span class='op'>|</span>
                <span class='kw'>if</span> <span class='id identifier rubyid_in_p'>in_p</span><span class='period'>.</span><span class='id identifier rubyid_slack'>slack</span> <span class='op'>&gt;=</span> <span class='ivar'>@ht</span><span class='period'>.</span><span class='id identifier rubyid_payload_in'>payload_in</span><span class='period'>.</span><span class='id identifier rubyid_partof'>partof</span><span class='period'>.</span><span class='id identifier rubyid_propag_time'>propag_time</span><span class='lbracket'>[</span><span class='ivar'>@delay_model</span><span class='rbracket'>]</span>
                    <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='id identifier rubyid_in_p'>in_p</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_stage'>stage</span>
                <span class='kw'>end</span>
            <span class='kw'>end</span>
        <span class='kw'>end</span>
    <span class='kw'>end</span>

    <span class='ivar'>@netlist</span><span class='period'>.</span><span class='id identifier rubyid_get_outputs'>get_outputs</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_out_p'>out_p</span><span class='op'>|</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_out_p'>out_p</span><span class='period'>.</span><span class='id identifier rubyid_slack'>slack</span> <span class='op'>&gt;=</span> <span class='ivar'>@ht</span><span class='period'>.</span><span class='id identifier rubyid_payload_in'>payload_in</span><span class='period'>.</span><span class='id identifier rubyid_partof'>partof</span><span class='period'>.</span><span class='id identifier rubyid_propag_time'>propag_time</span><span class='lbracket'>[</span><span class='ivar'>@delay_model</span><span class='rbracket'>]</span>
            <span class='id identifier rubyid_sig_pool'>sig_pool</span><span class='lbracket'>[</span><span class='id identifier rubyid_out_p'>out_p</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='ivar'>@stages</span><span class='period'>.</span><span class='id identifier rubyid_keys'>keys</span><span class='period'>.</span><span class='id identifier rubyid_max'>max</span>
        <span class='kw'>end</span>
    <span class='kw'>end</span>
  
    <span class='comment'># sig_pool.select!{|in_p, stage| !@forbidden_locs.include? in_p.get_full_name}
</span>    <span class='ivar'>@forbidden_locs</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_loc'>loc</span><span class='op'>|</span>
        <span class='id identifier rubyid_sig_pool'>sig_pool</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='id identifier rubyid_loc'>loc</span><span class='rparen'>)</span>
    <span class='kw'>end</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_sig_pool'>sig_pool</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
        <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="ImpossibleInsertion.html" title="Inserter::ImpossibleInsertion (class)">ImpossibleInsertion</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="ImpossibleInsertion.html#initialize-instance_method" title="Inserter::ImpossibleInsertion#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Error: No insertion location found for ht &#39;</span><span class='embexpr_beg'>#{</span><span class='ivar'>@ht</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39; in zone &#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_zone'>zone</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39; of circuit &#39;</span><span class='embexpr_beg'>#{</span><span class='ivar'>@netlist</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39;.</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_attacked_sig'>attacked_sig</span><span class='comma'>,</span> <span class='id identifier rubyid_stage'>stage</span> <span class='op'>=</span> <span class='id identifier rubyid_sig_pool'>sig_pool</span><span class='period'>.</span><span class='id identifier rubyid_to_a'>to_a</span><span class='period'>.</span><span class='id identifier rubyid_sample'>sample</span>

    <span class='kw'>return</span> <span class='id identifier rubyid_attacked_sig'>attacked_sig</span><span class='comma'>,</span> <span class='id identifier rubyid_stage'>stage</span><span class='op'>-</span><span class='int'>1</span> <span class='comment'># * Since the stage is the component one, we need to substract 1 to get the stage number of the signals usable by the trigger.
</span><span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="select_triggers_limited-instance_method">
  
    #<strong>select_triggers_limited</strong>(n, max_stage, max_delay, max_combination = 1000000)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


535
536
537
538
539
540
541
542
543
544
545
546
547
548
549
550</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/inserter/tamper.rb', line 535</span>

<span class='kw'>def</span> <span class='id identifier rubyid_select_triggers_limited'>select_triggers_limited</span> <span class='id identifier rubyid_n'>n</span><span class='comma'>,</span> <span class='id identifier rubyid_max_stage'>max_stage</span><span class='comma'>,</span> <span class='id identifier rubyid_max_delay'>max_delay</span><span class='comma'>,</span> <span class='id identifier rubyid_max_combination'>max_combination</span> <span class='op'>=</span> <span class='int'>1000000</span>
    <span class='id identifier rubyid_pool'>pool</span> <span class='op'>=</span> <span class='id identifier rubyid_gen_limited_trigger_pool'>gen_limited_trigger_pool</span><span class='lparen'>(</span><span class='id identifier rubyid_n'>n</span><span class='comma'>,</span> <span class='id identifier rubyid_max_stage'>max_stage</span><span class='comma'>,</span> <span class='id identifier rubyid_max_delay'>max_delay</span><span class='comma'>,</span> <span class='id identifier rubyid_max_combination'>max_combination</span><span class='rparen'>)</span>

    <span class='id identifier rubyid_possibility'>possibility</span> <span class='op'>=</span> <span class='id identifier rubyid_pool'>pool</span><span class='period'>.</span><span class='id identifier rubyid_shift'>shift</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_possibility'>possibility</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
        <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="NoTriggerFound.html" title="Inserter::NoTriggerFound (class)">NoTriggerFound</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="NoTriggerFound.html#initialize-instance_method" title="Inserter::NoTriggerFound#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Error: Not enough signal to insert the trojan, try again. If it happens frequently try with different parameters.</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='kw'>else</span>
        <span class='id identifier rubyid_possibility'>possibility</span><span class='period'>.</span><span class='id identifier rubyid_collect!'>collect!</span><span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_node'>node</span><span class='op'>|</span> <span class='kw'>if</span> <span class='id identifier rubyid_node'>node</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="../Netlist.html" title="Netlist (module)">Netlist</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Netlist/Wire.html" title="Netlist::Wire (class)">Wire</a></span></span><span class='rparen'>)</span> <span class='kw'>then</span> <span class='id identifier rubyid_node'>node</span> <span class='kw'>else</span> <span class='id identifier rubyid_node'>node</span><span class='period'>.</span><span class='id identifier rubyid_get_output'>get_output</span> <span class='kw'>end</span><span class='rbrace'>}</span>
        <span class='ivar'>@trigger_pool</span> <span class='op'>=</span> <span class='id identifier rubyid_pool'>pool</span>
        
        <span class='kw'>return</span> <span class='id identifier rubyid_possibility'>possibility</span>
    <span class='kw'>end</span>

    <span class='kw'>return</span> <span class='id identifier rubyid_pool'>pool</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="select_triggers_sig-instance_method">
  
    #<strong>select_triggers_sig</strong>(n, max_stage, max_delay)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


628
629
630
631
632
633
634
635
636
637
638
639
640
641
642
643
644
645
646
647
648
649
650
651
652
653
654
655
656
657
658
659
660
661</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/inserter/tamper.rb', line 628</span>

<span class='kw'>def</span> <span class='id identifier rubyid_select_triggers_sig'>select_triggers_sig</span> <span class='id identifier rubyid_n'>n</span><span class='comma'>,</span> <span class='id identifier rubyid_max_stage'>max_stage</span><span class='comma'>,</span> <span class='id identifier rubyid_max_delay'>max_delay</span>
    <span class='comment'># * : Constituting a pool of components sources in which we can pick.  
</span>    <span class='id identifier rubyid_pool'>pool</span> <span class='op'>=</span> <span class='ivar'>@netlist</span><span class='period'>.</span><span class='id identifier rubyid_get_inputs'>get_inputs</span><span class='period'>.</span><span class='id identifier rubyid_clone'>clone</span>

    <span class='int'>0</span><span class='period'>.</span><span class='id identifier rubyid_upto'>upto</span><span class='lparen'>(</span><span class='id identifier rubyid_max_stage'>max_stage</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_stage'>stage</span><span class='op'>|</span>
        <span class='ivar'>@stages</span><span class='lbracket'>[</span><span class='id identifier rubyid_stage'>stage</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_comp'>comp</span><span class='op'>|</span>
            <span class='id identifier rubyid_pool'>pool</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_comp'>comp</span>
        <span class='kw'>end</span>
    <span class='kw'>end</span>

    <span class='comment'># * Filtering the comp pool with the wanted maximal cumulated_propag_time 
</span>    <span class='id identifier rubyid_pool'>pool</span><span class='period'>.</span><span class='id identifier rubyid_select!'>select!</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_comp'>comp</span><span class='op'>|</span>
        <span class='id identifier rubyid_comp'>comp</span><span class='period'>.</span><span class='id identifier rubyid_cumulated_propag_time'>cumulated_propag_time</span> <span class='op'>+</span> <span class='ivar'>@ht</span><span class='period'>.</span><span class='id identifier rubyid_propag_time'>propag_time</span><span class='lbracket'>[</span><span class='ivar'>@delay_model</span><span class='rbracket'>]</span> <span class='op'>&lt;=</span> <span class='id identifier rubyid_max_delay'>max_delay</span>
    <span class='kw'>end</span>

    <span class='comment'># * : Then it is possible to pick in and modify the pool regarding evolving constraints. 
</span>    <span class='id identifier rubyid_selected_signals'>selected_signals</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_n'>n</span><span class='period'>.</span><span class='id identifier rubyid_times'>times</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_nth'>nth</span><span class='op'>|</span>

        <span class='kw'>if</span> <span class='id identifier rubyid_pool'>pool</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span> 
            <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="NoTriggerFound.html" title="Inserter::NoTriggerFound (class)">NoTriggerFound</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="NoTriggerFound.html#initialize-instance_method" title="Inserter::NoTriggerFound#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Error: Not enough signal to insert the trojan, try again. If it happens frequently try with different parameters.</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
        <span class='kw'>end</span>

        <span class='id identifier rubyid_selected'>selected</span> <span class='op'>=</span> <span class='id identifier rubyid_pool'>pool</span><span class='period'>.</span><span class='id identifier rubyid_delete_at'>delete_at</span><span class='lparen'>(</span><span class='id identifier rubyid_rand'>rand</span><span class='lparen'>(</span><span class='id identifier rubyid_pool'>pool</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span><span class='rparen'>)</span><span class='rparen'>)</span>

        <span class='kw'>if</span> <span class='id identifier rubyid_selected'>selected</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span> <span class='const'><span class='object_link'><a href="../Netlist.html" title="Netlist (module)">Netlist</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Netlist/Port.html" title="Netlist::Port (class)">Port</a></span></span>
            <span class='id identifier rubyid_selected_signals'>selected_signals</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_selected'>selected</span>
        <span class='kw'>else</span>
            <span class='id identifier rubyid_selected_signals'>selected_signals</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_selected'>selected</span><span class='period'>.</span><span class='id identifier rubyid_get_output'>get_output</span>
        <span class='kw'>end</span>
    <span class='kw'>end</span>

    <span class='kw'>return</span> <span class='id identifier rubyid_selected_signals'>selected_signals</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="select_triggers_sig2-instance_method">
  
    #<strong>select_triggers_sig2</strong>(n, max_stage, max_delay)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


552
553
554
555
556
557
558
559
560
561
562
563
564
565
566
567
568
569
570
571
572
573
574
575
576
577
578
579
580
581
582
583
584
585
586
587
588
589
590
591
592
593
594
595
596
597
598
599
600
601
602
603
604
605
606
607
608
609
610
611
612
613
614
615
616
617
618
619
620
621
622
623
624
625
626</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/inserter/tamper.rb', line 552</span>

<span class='kw'>def</span> <span class='id identifier rubyid_select_triggers_sig2'>select_triggers_sig2</span> <span class='id identifier rubyid_n'>n</span><span class='comma'>,</span> <span class='id identifier rubyid_max_stage'>max_stage</span><span class='comma'>,</span> <span class='id identifier rubyid_max_delay'>max_delay</span>
    <span class='comment'># * : Constituting a pool of components sources in which we can pick.  
</span>
    <span class='comment'># if @forbidden_triggers.length &gt; 10
</span>    <span class='comment'>#     raise NoTriggerFound.new(&quot;Error: Too much forbidden triggers, try another location for the payload.&quot;)
</span>    <span class='comment'># end 
</span>    <span class='id identifier rubyid_pool'>pool</span> <span class='op'>=</span> <span class='ivar'>@trigger_pool</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_pool'>pool</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>

        <span class='id identifier rubyid_pool'>pool</span> <span class='op'>=</span> <span class='ivar'>@netlist</span><span class='period'>.</span><span class='id identifier rubyid_get_inputs'>get_inputs</span><span class='period'>.</span><span class='id identifier rubyid_clone'>clone</span>

        <span class='int'>0</span><span class='period'>.</span><span class='id identifier rubyid_upto'>upto</span><span class='lparen'>(</span><span class='id identifier rubyid_max_stage'>max_stage</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_stage'>stage</span><span class='op'>|</span>
            <span class='ivar'>@stages</span><span class='lbracket'>[</span><span class='id identifier rubyid_stage'>stage</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_comp'>comp</span><span class='op'>|</span>
                <span class='id identifier rubyid_pool'>pool</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_comp'>comp</span>
            <span class='kw'>end</span>
        <span class='kw'>end</span>

        <span class='comment'># * Filtering the comp pool with the wanted maximal cumulated_propag_time 
</span>        <span class='id identifier rubyid_pool'>pool</span><span class='period'>.</span><span class='id identifier rubyid_select!'>select!</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_comp'>comp</span><span class='op'>|</span>
            <span class='id identifier rubyid_comp'>comp</span><span class='period'>.</span><span class='id identifier rubyid_cumulated_propag_time'>cumulated_propag_time</span> <span class='op'>+</span> <span class='ivar'>@ht</span><span class='period'>.</span><span class='id identifier rubyid_propag_time'>propag_time</span><span class='lbracket'>[</span><span class='ivar'>@delay_model</span><span class='rbracket'>]</span> <span class='op'>&lt;=</span> <span class='id identifier rubyid_max_delay'>max_delay</span>
        <span class='kw'>end</span>
        
        <span class='comment'># pool.select! do |sig| 
</span>        <span class='comment'>#     if sig.partof.is_a? Netlist::Gate
</span>        <span class='comment'>#         @netlist.get_transition_probability_h[sig.partof] &lt; 0.1
</span>        <span class='comment'>#     else 
</span>        <span class='comment'>#         true
</span>        <span class='comment'>#     end
</span>        <span class='comment'>#     # @netlist.get_transition_probability_h[sig.partof] 
</span>        <span class='comment'># end
</span>
        <span class='id identifier rubyid_pool'>pool</span> <span class='op'>=</span> <span class='id identifier rubyid_pool'>pool</span><span class='period'>.</span><span class='id identifier rubyid_combination'>combination</span><span class='lparen'>(</span><span class='id identifier rubyid_n'>n</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_a'>to_a</span>

        <span class='comment'># pool.sort_by! do |trig_list| 
</span>        <span class='comment'>#     get_transi_poba(trig_list)
</span>        <span class='comment'># end
</span>    <span class='comment'># else
</span>    <span class='comment'>#     pool = @trigger_pool
</span>    <span class='kw'>end</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_pool'>pool</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span> <span class='op'>&lt;</span> <span class='id identifier rubyid_n'>n</span>
        <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="NoTriggerFound.html" title="Inserter::NoTriggerFound (class)">NoTriggerFound</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="NoTriggerFound.html#initialize-instance_method" title="Inserter::NoTriggerFound#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Error: Not enough signal to insert the trojan, try again. If it happens frequently try with different parameters.</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_possibility'>possibility</span> <span class='op'>=</span> <span class='id identifier rubyid_pool'>pool</span><span class='period'>.</span><span class='id identifier rubyid_shift'>shift</span>
    
    <span class='kw'>if</span> <span class='id identifier rubyid_possibility'>possibility</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
        <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="NoTriggerFound.html" title="Inserter::NoTriggerFound (class)">NoTriggerFound</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="NoTriggerFound.html#initialize-instance_method" title="Inserter::NoTriggerFound#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Error: Not enough signal to insert the trojan, try again. If it happens frequently try with different parameters.</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='kw'>else</span>

        <span class='id identifier rubyid_possibility'>possibility</span><span class='period'>.</span><span class='id identifier rubyid_collect!'>collect!</span><span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_node'>node</span><span class='op'>|</span> <span class='kw'>if</span> <span class='id identifier rubyid_node'>node</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="../Netlist.html" title="Netlist (module)">Netlist</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Netlist/Wire.html" title="Netlist::Wire (class)">Wire</a></span></span><span class='rparen'>)</span> <span class='kw'>then</span> <span class='id identifier rubyid_node'>node</span> <span class='kw'>else</span> <span class='id identifier rubyid_node'>node</span><span class='period'>.</span><span class='id identifier rubyid_get_output'>get_output</span> <span class='kw'>end</span><span class='rbrace'>}</span>

        <span class='comment'># if !@forbidden_triggers.include?(possibility.collect{|sig| sig.name})
</span>        <span class='comment'>#     @forbidden_triggers &lt;&lt; possibility.collect{|sig| sig.get_full_name}
</span>        <span class='ivar'>@trigger_pool</span> <span class='op'>=</span> <span class='id identifier rubyid_pool'>pool</span>
        
        <span class='kw'>return</span> <span class='id identifier rubyid_possibility'>possibility</span>
    <span class='kw'>end</span>
    <span class='comment'># end
</span>
    <span class='comment'># # * : Then it is possible to pick in and modify the pool regarding evolving constraints. 
</span>    <span class='comment'># selected_signals = []
</span>    <span class='comment'># n.times do |nth|
</span>    <span class='comment'>#     selected = pool.delete_at(rand(pool.length))
</span>
    <span class='comment'>#     if selected.is_a? Netlist::Port
</span>    <span class='comment'>#         selected_signals &lt;&lt; selected
</span>    <span class='comment'>#     else
</span>    <span class='comment'>#         selected_signals &lt;&lt; selected.get_output
</span>    <span class='comment'>#     end
</span>    <span class='comment'># end
</span>
    
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="simple_insert-instance_method">
  
    #<strong>simple_insert</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


684
685
686
687
688
689
690
691
692
693
694
695
696
697
698
699
700
701
702
703
704
705
706
707
708
709
710
711
712
713
714
715
716
717
718
719
720
721
722
723
724</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/inserter/tamper.rb', line 684</span>

<span class='kw'>def</span> <span class='id identifier rubyid_simple_insert'>simple_insert</span>
    <span class='id identifier rubyid_slack_h'>slack_h</span> <span class='op'>=</span> <span class='ivar'>@netlist</span><span class='period'>.</span><span class='id identifier rubyid_get_slack_hash'>get_slack_hash</span>
    <span class='id identifier rubyid_ht_type'>ht_type</span> <span class='op'>=</span> <span class='ivar'>@ht</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>::</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_downcase'>downcase</span>
    <span class='id identifier rubyid_ht_delay'>ht_delay</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../Inserter.html" title="Inserter (module)">Inserter</a></span></span><span class='op'>::</span><span class='id identifier rubyid_getPayloadDelay'><span class='object_link'><a href="../Inserter.html#getPayloadDelay-class_method" title="Inserter.getPayloadDelay (method)">getPayloadDelay</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_ht_type'>ht_type</span><span class='comma'>,</span> <span class='ivar'>@delay_model</span><span class='rparen'>)</span>
    
    <span class='id identifier rubyid_insert_points'>insert_points</span> <span class='op'>=</span> <span class='id identifier rubyid_slack_h'>slack_h</span><span class='period'>.</span><span class='id identifier rubyid_collect'>collect</span><span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_slack'>slack</span><span class='comma'>,</span> <span class='id identifier rubyid_insPointList'>insPointList</span><span class='op'>|</span> <span class='id identifier rubyid_slack'>slack</span> <span class='op'>&gt;</span> <span class='id identifier rubyid_ht_delay'>ht_delay</span> <span class='op'>?</span> <span class='id identifier rubyid_insPointList'>insPointList</span> <span class='op'>:</span> <span class='lbracket'>[</span><span class='rbracket'>]</span><span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_flatten'>flatten</span>
    <span class='id identifier rubyid_insert_points'>insert_points</span><span class='period'>.</span><span class='id identifier rubyid_reject!'>reject!</span><span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_insPoint'>insPoint</span><span class='op'>|</span> <span class='id identifier rubyid_insPoint'>insPoint</span><span class='period'>.</span><span class='id identifier rubyid_is_global?'>is_global?</span> <span class='kw'>and</span> <span class='id identifier rubyid_insPoint'>insPoint</span><span class='period'>.</span><span class='id identifier rubyid_is_input?'>is_input?</span><span class='rbrace'>}</span>

    <span class='comment'># Uncomment to avoid critical path modification
</span>    <span class='id identifier rubyid_ht_cumuluted_delay'>ht_cumuluted_delay</span> <span class='op'>=</span> <span class='ivar'>@ht</span><span class='period'>.</span><span class='id identifier rubyid_get_exact_crit_path'>get_exact_crit_path</span><span class='lparen'>(</span><span class='ivar'>@delay_model</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_insert_points'>insert_points</span><span class='period'>.</span><span class='id identifier rubyid_reject!'>reject!</span><span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_insPoint'>insPoint</span><span class='op'>|</span> <span class='id identifier rubyid_insPoint'>insPoint</span><span class='period'>.</span><span class='id identifier rubyid_cumulated_propag_time'>cumulated_propag_time</span> <span class='op'>&gt;=</span> <span class='id identifier rubyid_ht_cumuluted_delay'>ht_cumuluted_delay</span><span class='rbrace'>}</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_insert_points'>insert_points</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>                 
        <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="ImpossibleInsertion.html" title="Inserter::ImpossibleInsertion (class)">ImpossibleInsertion</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="ImpossibleInsertion.html#initialize-instance_method" title="Inserter::ImpossibleInsertion#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Error: No insertion location found for ht &#39;</span><span class='embexpr_beg'>#{</span><span class='ivar'>@ht</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39; in circuit &#39;</span><span class='embexpr_beg'>#{</span><span class='ivar'>@netlist</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39;.</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='kw'>else</span>
        <span class='id identifier rubyid_attacked_sig'>attacked_sig</span> <span class='op'>=</span> <span class='id identifier rubyid_insert_points'>insert_points</span><span class='period'>.</span><span class='id identifier rubyid_sample'>sample</span>
        <span class='ivar'>@insertPoint</span> <span class='op'>=</span> <span class='id identifier rubyid_attacked_sig'>attacked_sig</span>
    <span class='kw'>end</span>

    <span class='ivar'>@ht</span><span class='period'>.</span><span class='id identifier rubyid_triggers'>triggers</span><span class='period'>.</span><span class='id identifier rubyid_each_with_index'>each_with_index</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_trig'>trig</span><span class='comma'>,</span> <span class='id identifier rubyid_i'>i</span><span class='op'>|</span>
        <span class='id identifier rubyid_trig'>trig</span> <span class='op'>&lt;=</span> <span class='ivar'>@netlist</span><span class='period'>.</span><span class='id identifier rubyid_get_inputs'>get_inputs</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span> <span class='op'>%</span> <span class='ivar'>@netlist</span><span class='period'>.</span><span class='id identifier rubyid_get_nb_inputs'>get_nb_inputs</span><span class='rbracket'>]</span>
    <span class='kw'>end</span>

    <span class='ivar'>@ht</span><span class='period'>.</span><span class='id identifier rubyid_components'>components</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_g'>g</span><span class='op'>|</span>
        <span class='id identifier rubyid_g'>g</span><span class='period'>.</span><span class='id identifier rubyid_tag'>tag</span> <span class='op'>=</span> <span class='symbol'>:ht</span>
        <span class='ivar'>@netlist</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_g'>g</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_source'>source</span> <span class='op'>=</span> <span class='id identifier rubyid_attacked_sig'>attacked_sig</span><span class='period'>.</span><span class='id identifier rubyid_get_source'>get_source</span>
    <span class='id identifier rubyid_attacked_sig'>attacked_sig</span><span class='period'>.</span><span class='id identifier rubyid_unplug2'>unplug2</span><span class='lparen'>(</span><span class='id identifier rubyid_source'>source</span><span class='period'>.</span><span class='id identifier rubyid_get_full_name'>get_full_name</span><span class='rparen'>)</span> 
    <span class='id identifier rubyid_attacked_sig'>attacked_sig</span> <span class='op'>&lt;=</span> <span class='ivar'>@ht</span><span class='period'>.</span><span class='id identifier rubyid_get_payload_out'>get_payload_out</span>
    <span class='ivar'>@ht</span><span class='period'>.</span><span class='id identifier rubyid_get_payload_in'>get_payload_in</span> <span class='op'>&lt;=</span> <span class='id identifier rubyid_source'>source</span> 

    <span class='id identifier rubyid_max_delay'>max_delay</span> <span class='op'>=</span> <span class='id identifier rubyid_source'>source</span><span class='period'>.</span><span class='id identifier rubyid_cumulated_propag_time'>cumulated_propag_time</span> <span class='op'>+</span> <span class='id identifier rubyid_attacked_sig'>attacked_sig</span><span class='period'>.</span><span class='id identifier rubyid_slack'>slack</span>
    <span class='ivar'>@location</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='id identifier rubyid_max_delay'>max_delay</span><span class='period'>.</span><span class='id identifier rubyid_to_f'>to_f</span> <span class='op'>/</span> <span class='ivar'>@timings_h</span><span class='period'>.</span><span class='id identifier rubyid_keys'>keys</span><span class='period'>.</span><span class='id identifier rubyid_last'>last</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_round'>round</span><span class='lparen'>(</span><span class='int'>3</span><span class='rparen'>)</span>

    <span class='ivar'>@netlist</span><span class='period'>.</span><span class='id identifier rubyid_clear_cumulated_propag_times'>clear_cumulated_propag_times</span>
    <span class='ivar'>@netlist</span><span class='period'>.</span><span class='id identifier rubyid_get_exact_crit_path_length'>get_exact_crit_path_length</span><span class='lparen'>(</span><span class='ivar'>@delay_model</span><span class='rparen'>)</span>

    <span class='kw'>return</span> <span class='ivar'>@netlist</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="trigger_pool_2_name-instance_method">
  
    #<strong>trigger_pool_2_name</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


152
153
154
155
156
157
158
159</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/inserter/tamper.rb', line 152</span>

<span class='kw'>def</span> <span class='id identifier rubyid_trigger_pool_2_name'>trigger_pool_2_name</span>

    <span class='ivar'>@trigger_pool</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_trig_vec'>trig_vec</span><span class='op'>|</span>
        <span class='id identifier rubyid_trig_vec'>trig_vec</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_sig'>sig</span><span class='op'>|</span>
            <span class='id identifier rubyid_sig'>sig</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
        <span class='kw'>end</span>
    <span class='kw'>end</span> 
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="trigger_pool_2_obj-instance_method">
  
    #<strong>trigger_pool_2_obj</strong>(trigger_pool)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


140
141
142
143
144
145
146
147
148
149
150</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/inserter/tamper.rb', line 140</span>

<span class='kw'>def</span> <span class='id identifier rubyid_trigger_pool_2_obj'>trigger_pool_2_obj</span> <span class='id identifier rubyid_trigger_pool'>trigger_pool</span>
    <span class='id identifier rubyid_trigger_pool'>trigger_pool</span><span class='period'>.</span><span class='id identifier rubyid_map!'>map!</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_name_list'>name_list</span><span class='op'>|</span>
        <span class='id identifier rubyid_name_list'>name_list</span><span class='period'>.</span><span class='id identifier rubyid_collect'>collect</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_name'>name</span><span class='op'>|</span>
            <span class='kw'>if</span> <span class='id identifier rubyid_name'>name</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>i</span><span class='tstring_end'>&quot;</span></span>
                <span class='ivar'>@netlist</span><span class='period'>.</span><span class='id identifier rubyid_get_port_named'>get_port_named</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
            <span class='kw'>else</span>
                <span class='ivar'>@netlist</span><span class='period'>.</span><span class='id identifier rubyid_get_component_named'>get_component_named</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
            <span class='kw'>end</span>
        <span class='kw'>end</span>
    <span class='kw'>end</span> 
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Tue Apr 29 10:04:23 2025 by
  <a href="https://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.37 (ruby-3.3.1).
</div>

    </div>
  </body>
</html>